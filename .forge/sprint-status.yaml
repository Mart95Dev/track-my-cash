sprint:
  id: sprint-production-saas-croissance
  goal: "Tracking IA (ai_usage), période d'essai 14j Pro, RGPD crons suppression J+25/J+30, skeleton screens, pages 404/500, parsers HSBC + Monzo, IA multi-modèles parallèles Premium, bannière upgrade freemium + page tarifs enrichie"
  start_date: "2026-02-22"
  end_date: ""
  status: in_progress

stories:
  # === SPRINT PRODUCTION SAAS & CROISSANCE (v8) ===

  - id: STORY-053
    title: "Suivi utilisation IA (ai_usage + décompte UI)"
    epic: monetization
    complexity: S
    priority: P1
    status: completed
    blockedBy: []
    points: 2
    tests: 5
    qa_verdict: "PASS"
    notes: "ai_usage table + incrementAiUsage + getAiUsageCount + checkAiLimit + canUseAI quota Pro + UI /parametres"

  - id: STORY-054
    title: "Période d'essai 14j Pro à l'inscription"
    epic: monetization
    complexity: M
    priority: P1
    status: completed
    blockedBy: [STORY-053]
    points: 3
    tests: 6
    qa_verdict: "PASS"
    notes: "trial-utils.ts + TrialBanner + layout + cron check-trials + inscription fire-and-forget + getUserPlanId trialing fix"

  - id: STORY-055
    title: "RGPD — Suppression automatique des comptes (J+25 + J+30)"
    epic: compliance
    complexity: M
    priority: P1
    status: completed
    blockedBy: []
    points: 3
    tests: 6
    qa_verdict: "PASS"
    notes: "deletion-utils.ts + deletion_requests table + requestAccountDeletionAction + cancelDeletionAction + cron deletion-reminder (J+25) + cron delete-accounts (J+30) + email template + DeleteUserAccountDialog + /compte-suspendu"

  - id: STORY-056
    title: "Skeleton screens (loading states)"
    epic: ux-polish
    complexity: XS
    priority: P2
    status: completed
    blockedBy: []
    points: 1
    tests: 4
    qa_verdict: "PASS"
    notes: "SkeletonCard + dashboard/loading.tsx + comptes/loading.tsx + transactions/loading.tsx — tous présents et testés"

  - id: STORY-057
    title: "Pages d'erreur 404/500 personnalisées"
    epic: ux-polish
    complexity: S
    priority: P2
    status: completed
    blockedBy: []
    points: 2
    tests: 4
    qa_verdict: "PASS"
    notes: "[locale]/not-found.tsx + [locale]/error.tsx + app/not-found.tsx + messages errors fr+en — 4 tests rendu+comportement"

  - id: STORY-058
    title: "Parsers bancaires UK (HSBC + Monzo)"
    epic: parsers
    complexity: S
    priority: P2
    status: completed
    blockedBy: []
    points: 2
    tests: 14
    qa_verdict: "PASS"
    notes: "hsbcParser (Date,Description,Amount + DD/MM/YYYY) + monzoParser (Transaction ID + YYYY-MM-DD + Currency) — registry avant genericCsv"

  - id: STORY-059
    title: "Conseiller IA multi-modèles parallèles (3 modèles + synthèse)"
    epic: intelligence
    complexity: M
    priority: P2
    status: completed
    blockedBy: [STORY-053]
    points: 3
    tests: 13
    qa_verdict: "PASS"
    notes: "ai-consensus.ts (synthesizeResponses+buildSynthesisPrompt) + route.ts consensus Premium (Promise.allSettled 3 modèles + Haiku JSON) + AiChat isPremium toggle + details/summary accordéon sources"

  - id: STORY-060
    title: "Bannière upgrade freemium + page tarifs enrichie"
    epic: monetization
    complexity: S
    priority: P1
    status: completed
    blockedBy: [STORY-054]
    points: 2
    tests: 6
    qa_verdict: "PASS"
    notes: "PlanBanner (orangé trialing / bleu free / null pro+premium) + layout.tsx migration TrialBanner→PlanBanner + tarifs/page.tsx tableau comparatif 12 lignes + boutons Stripe checkout"

metrics:
  total: 8
  completed: 8
  in_progress: 0
  pending: 0
  total_points: 18
  points_completed: 18
  tests_total: 429
  tests_sprint: 54
  qa_verdict: "PASS"

previous_sprint:
  id: sprint-intelligence-ux-ia
  stories: 6
  completed: 6
  qa_verdict: PASS
  tests: 375
  commit: "dc214d6"
