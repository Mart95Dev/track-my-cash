sprint:
  id: sprint-intelligence-ux-ia
  goal: "Score de santé financière, questions suggérées dans le chat, catégorisation IA auto à l'import, tool calling (créer budgets/objectifs depuis le chat), simulateur de scénarios Et si..., suggestions de budgets basées sur l'historique"
  start_date: "2026-02-22"
  end_date: "2026-02-22"
  status: in_progress

stories:
  # === SPRINT INTELLIGENCE & UX IA (v7) ===

  - id: STORY-047
    title: "Score de santé financière (widget dashboard)"
    epic: intelligence
    complexity: M
    priority: P1
    status: completed
    blockedBy: []
    points: 3
    tests: 11
    qa_verdict: PASS
    notes: "computeHealthScore() (11 tests, 2 QA gap tests ajoutés) — 4 dimensions (épargne, budgets, objectifs, stabilité) — HealthScoreWidget (jauge SVG + sous-scores) — intégré dashboard"

  - id: STORY-048
    title: "Questions suggérées dans le chat conseiller"
    epic: intelligence
    complexity: S
    priority: P1
    status: completed
    blockedBy: []
    points: 2
    tests: 7
    qa_verdict: PASS
    notes: "generateChatSuggestions() (7 tests, 2 QA gap tests ajoutés) — 3 niveaux de priorité (budgets > objectifs > épargne) — ChatSuggestions (chips Badge, état local visible) — auto-send via sendMessage — intégré page conseiller"

  - id: STORY-049
    title: "Catégorisation IA automatique à l'import (option)"
    epic: intelligence
    complexity: S
    priority: P1
    status: completed
    blockedBy: []
    points: 2
    tests: 6
    qa_verdict: PASS
    notes: "Setting auto_categorize_on_import (6 tests, 2 QA gap ajoutés) — fire-and-forget dans confirmImportAction — double-guard canUseAI — AutoCategorizeToggle (Checkbox) — section IA dans /parametres (Pro/Premium)"

  - id: STORY-050
    title: "Tool calling — créer budgets et objectifs depuis le chat"
    epic: intelligence
    complexity: M
    priority: P2
    status: completed
    blockedBy: []
    points: 3
    tests: 8
    qa_verdict: PASS
    notes: "createBudgetSchema + createGoalSchema (Zod, 8 tests, 2 QA gaps ajoutés) — createAiTools() factory — inputSchema (AI SDK v6) — stopWhen: stepCountIs(3) — DynamicToolUIPart detection (state: output-available) — ToolResultCard — Pro/Premium via canUseAI guard"

  - id: STORY-051
    title: "Simulateur de scénarios 'Et si...' dans les prévisions"
    epic: analytics
    complexity: M
    priority: P2
    status: completed
    blockedBy: []
    points: 3
    tests: 9
    qa_verdict: PASS
    notes: "simulateScenario() pure (9 tests, 2 QA gap tests ajoutés) — 3 types (extra savings, cut expense, income increase) — plafonnement 100% — monthsToGoal — ScenarioSimulator client (3 onglets, slider, tableau Avant/Après, useMemo) — intégré /previsions"

  - id: STORY-052
    title: "Suggestions de budgets basées sur l'historique"
    epic: intelligence
    complexity: S
    priority: P3
    status: completed
    blockedBy: []
    points: 2
    tests: 9
    qa_verdict: PASS
    notes: "suggestBudgets() pure (9 tests, 2 QA gap tests ajoutés) — arrondi dizaine supérieure — confiance high/medium/low — CV (coefficient de variation) — getBudgetSuggestionsAction() — BudgetSuggestions (client) — page /budgets dédiée créée"

metrics:
  total: 6
  completed: 6
  in_progress: 0
  pending: 0
  total_points: 15
  points_completed: 15
  tests_total: 375
  tests_sprint: 50
  qa_verdict: PASS

previous_sprint:
  id: sprint-compatibilite-ia-analyse
  stories: 8
  completed: 8
  qa_verdict: PASS
  tests: 325
  commit: "afdca69"
